<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>gmdavetiye</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;500;600&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

  <link rel="preload" as="video" href="WhatsApp%20Video%202026-01-11%20at%2015.35.36.mp4" type="video/mp4" fetchpriority="high">

  <style>
    :root{
      --bg:#e7e1d4;
      --olive:#5b604e;
      --card:#f4f2ec;
      --text:#273126;
      --muted:#66695f;
      --line:rgba(39,49,38,.16);
      --radius:18px;
      --shadow: 0 18px 50px rgba(0,0,0,.10);
      --max: 880px;

      --starSpeed: 1;
      --nightOpacity: .40;
      --moonGlow: .40;
      --starOpacity: .80;

      --xfade: 1200ms;
      --maskSoft: 24%;
      --heroExtra: 130px;

      --focus: rgba(91,96,78,.28);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
    }
    a{color:inherit}
    .container{max-width:var(--max); margin:0 auto; padding:0 18px}
    .center{text-align:center}
    .script{font-family:"Great Vibes", cursive;}
    .serif{font-family:"Playfair Display", serif;}

    .hero{
      min-height: 88vh;
      position: relative;
      overflow: hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      padding: 64px 0 calc(36px + var(--heroExtra));
      background:#0f1624;
    }
    .hero-inner{ position:relative; z-index:30; }
    .hero-slideshow{ position:absolute; inset:0; z-index:0; }

    .video-stage{
      position:absolute;
      inset:0;
      z-index:0;
      overflow:hidden;
      transform: translateZ(0);

      -webkit-mask-image: linear-gradient(to bottom,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,1) calc(100% - var(--maskSoft)),
        rgba(0,0,0,0) 100%);
      mask-image: linear-gradient(to bottom,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,1) calc(100% - var(--maskSoft)),
        rgba(0,0,0,0) 100%);
    }

    .video-stage video{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit: cover;
      object-position: center;
      display:block;
      transform: scale(1.06);
      filter: saturate(1.08) contrast(1.06);
      will-change: opacity, transform;
      background:#0f1624;
    }

    .video-stage .vA{ animation: slowKen 14s ease-in-out infinite; }
    .video-stage .vB{ animation: slowKen 14s ease-in-out infinite reverse; }

    @keyframes slowKen{
      0%   { transform: scale(1.06) translate3d(0,0,0); }
      50%  { transform: scale(1.11) translate3d(0,-1.7%,0); }
      100% { transform: scale(1.06) translate3d(0,0,0); }
    }

    .video-stage .vA{ opacity:1; transition: opacity var(--xfade) ease; }
    .video-stage .vB{ opacity:0; transition: opacity var(--xfade) ease; }
    .video-stage.isB .vA{ opacity:0; }
    .video-stage.isB .vB{ opacity:1; }

    .video-stage::after{
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      opacity:0;
      transition: opacity var(--xfade) ease;
      mix-blend-mode: screen;
      background:
        radial-gradient(700px 460px at 65% 22%, rgba(255,255,255,.14), transparent 62%),
        radial-gradient(520px 360px at 24% 28%, rgba(255,255,255,.10), transparent 64%),
        linear-gradient(to bottom, rgba(255,255,255,.04), rgba(255,255,255,0));
    }
    .video-stage.xfade::after{ opacity:.20; }

    .sky-mood{
      position:absolute; inset:0; pointer-events:none;
      z-index:1;
      mix-blend-mode: multiply;
      background:
        radial-gradient(520px 420px at 70% 18%,
          rgba(255,255,255,var(--moonGlow)),
          transparent 62%),
        linear-gradient(to bottom,
          rgba(10,18,30, var(--nightOpacity)),
          rgba(10,18,30, calc(var(--nightOpacity) * .35)) 55%,
          rgba(10,18,30, 0) 100%);
    }
    .vignette{
      position:absolute; inset:-10%; pointer-events:none;
      z-index:2;
      background: radial-gradient(70% 55% at 50% 40%, transparent 55%, rgba(0,0,0,.38) 100%);
      opacity:.60;
    }

    .stars-overlay{
      position:absolute; inset:0; pointer-events:none;
      z-index:3;
      opacity: var(--starOpacity);
      background-image:
        radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.95) 50%, transparent 55%),
        radial-gradient(1.6px 1.6px at 70% 20%, rgba(255,255,255,.75) 50%, transparent 55%),
        radial-gradient(1.2px 1.2px at 40% 70%, rgba(255,255,255,.65) 50%, transparent 55%),
        radial-gradient(1.8px 1.8px at 85% 75%, rgba(255,255,255,.85) 50%, transparent 55%),
        radial-gradient(1px 1px at 10% 80%, rgba(255,255,255,.55) 50%, transparent 55%);
      background-repeat: repeat;
      background-size: 520px 520px;
      animation: starDrift calc(18s * var(--starSpeed)) linear infinite;
    }
    @keyframes starDrift{ 0%{transform:translate3d(0,0,0)} 100%{transform:translate3d(-40px,30px,0)} }

    .falling-stars{
      position:absolute; inset:0; pointer-events:none;
      z-index:12; overflow:hidden;
      opacity: var(--starOpacity);
    }
    .falling-stars span{
      position:absolute;
      top:-12%;
      width:2px;
      height:14px;
      border-radius:999px;
      background: linear-gradient(to bottom, rgba(255,255,255,1), rgba(255,255,255,0));
      filter: drop-shadow(0 0 10px rgba(255,255,255,.85));
      opacity:.92;
      animation-name: fallDrift;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
    }
    @keyframes fallDrift{
      0%   { transform: translate3d(0, -12vh, 0) scale(1); opacity:0; }
      10%  { opacity:1; }
      55%  { transform: translate3d(18px, 58vh, 0) scale(.95); }
      100% { transform: translate3d(-10px, 112vh, 0) scale(.45); opacity:0; }
    }
    .falling-stars span:nth-child(1) { left: 6%;  animation-duration: calc(9s  * var(--starSpeed));  animation-delay: 0s; }
    .falling-stars span:nth-child(2) { left: 12%; animation-duration: calc(12s * var(--starSpeed));  animation-delay: 2s; }
    .falling-stars span:nth-child(3) { left: 18%; animation-duration: calc(10s * var(--starSpeed));  animation-delay: 4s; }
    .falling-stars span:nth-child(4) { left: 24%; animation-duration: calc(14s * var(--starSpeed));  animation-delay: 1s; }
    .falling-stars span:nth-child(5) { left: 30%; animation-duration: calc(11s * var(--starSpeed));  animation-delay: 3s; }
    .falling-stars span:nth-child(6) { left: 36%; animation-duration: calc(13s * var(--starSpeed));  animation-delay: 5s; }
    .falling-stars span:nth-child(7) { left: 42%; animation-duration: calc(9.5s  * var(--starSpeed)); animation-delay: 1.5s; }
    .falling-stars span:nth-child(8) { left: 48%; animation-duration: calc(12.5s * var(--starSpeed)); animation-delay: 3.5s; }
    .falling-stars span:nth-child(9) { left: 54%; animation-duration: calc(10.5s * var(--starSpeed)); animation-delay: 5.5s; }
    .falling-stars span:nth-child(10){ left: 60%; animation-duration: calc(15s  * var(--starSpeed)); animation-delay: 2.2s; }
    .falling-stars span:nth-child(11){ left: 66%; animation-duration: calc(11.5s* var(--starSpeed)); animation-delay: 4.2s; }
    .falling-stars span:nth-child(12){ left: 72%; animation-duration: calc(13.5s* var(--starSpeed)); animation-delay: 6.2s; }
    .falling-stars span:nth-child(13){ left: 78%; animation-duration: calc(9.2s * var(--starSpeed));  animation-delay: 0.8s; }
    .falling-stars span:nth-child(14){ left: 84%; animation-duration: calc(12.8s* var(--starSpeed));  animation-delay: 2.8s; }
    .falling-stars span:nth-child(15){ left: 90%; animation-duration: calc(10.8s* var(--starSpeed));  animation-delay: 4.8s; }
    .falling-stars span:nth-child(16){ left: 22%; animation-duration: calc(16s  * var(--starSpeed));  animation-delay: 6.8s; }
    .falling-stars span:nth-child(17){ left: 58%; animation-duration: calc(14.8s* var(--starSpeed));  animation-delay: 7.8s; }
    .falling-stars span:nth-child(18){ left: 92%; animation-duration: calc(17s  * var(--starSpeed));  animation-delay: 8.8s; }

    .shooting-stars{
      position:absolute; inset:0; pointer-events:none;
      z-index:13;
      opacity: var(--starOpacity);
    }
    .shooting-stars i{
      position:absolute;
      top: 18%;
      left: -30%;
      width: 170px;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(to right, rgba(255,255,255,0), rgba(255,255,255,.98), rgba(255,255,255,0));
      filter: drop-shadow(0 0 12px rgba(255,255,255,.75));
      transform: rotate(-18deg);
      opacity: 0;
      animation: shoot linear infinite;
    }
    @keyframes shoot{
      0%   { opacity:0; transform: translate3d(-20vw,-10vh,0) rotate(-18deg); }
      6%   { opacity:1; }
      14%  { opacity:0; }
      100% { opacity:0; transform: translate3d(120vw,70vh,0) rotate(-18deg); }
    }
    .shooting-stars i:nth-child(1){ top: 16%; animation-duration: calc(11s * var(--starSpeed)); animation-delay: 2s; }
    .shooting-stars i:nth-child(2){ top: 28%; width: 200px; animation-duration: calc(15s * var(--starSpeed)); animation-delay: 6.5s; }
    .shooting-stars i:nth-child(3){ top: 10%; width: 140px; animation-duration: calc(19s * var(--starSpeed)); animation-delay: 10.5s; }

    .sparkle-overlay{
      position:absolute; inset:0; pointer-events:none;
      z-index:4;
      opacity:.50; mix-blend-mode: screen;
      background:
        radial-gradient(300px 200px at 20% 25%, rgba(255,255,255,.14), transparent 60%),
        radial-gradient(260px 180px at 75% 30%, rgba(255,255,255,.12), transparent 65%),
        radial-gradient(220px 160px at 55% 75%, rgba(255,255,255,.10), transparent 70%);
      animation: sparklePulse 6.2s ease-in-out infinite;
    }
    @keyframes sparklePulse{ 0%,100%{opacity:.28} 50%{opacity:.58} }

    .hero-gradient{
      position:absolute; inset:0; pointer-events:none;
      z-index:6;
      background: linear-gradient(to bottom, rgba(0,0,0,.52), rgba(0,0,0,.18) 55%, rgba(0,0,0,0) 100%);
    }

    .hero small{
      display:block; letter-spacing:.35em; text-transform:uppercase;
      color: rgba(255,255,255,.88); margin-bottom: 10px; font-size: 12px;
      text-shadow: 0 12px 30px rgba(0,0,0,.25);
    }
    .hero h1{
      margin: 0; color:#fff; font-size: 64px; line-height: 1; font-weight: 400;
      text-shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    .hero h1 .amp{font-family:"Playfair Display", serif; font-size:.55em; opacity:.9; display:inline-block; margin:0 8px}
    .divider{display:flex; align-items:center; justify-content:center; gap:10px; margin: 22px 0 18px; color: rgba(255,255,255,.92);}
    .divider:before,.divider:after{content:""; height:1px; width:84px; background: rgba(255,255,255,.55);}

    section{padding: 44px 0}
    .section-title{font-size: 44px; margin: 0 0 10px; font-weight: 400; color: #2f3a2e;}
    .section-sub{margin:0; color: var(--muted); font-size: 17px; line-height: 1.6;}

    .countdown-wrap{background: var(--olive); padding: 46px 0; margin-top: -14px;}
    .countdown-wrap .section-title, .countdown-wrap .section-sub{color: rgba(255,255,255,.94)}
    .count-grid{display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:16px; margin-top: 22px;}
    .time-card{border: 1px solid rgba(255,255,255,.22); border-radius: 16px; padding: 22px 16px; text-align:center; background: rgba(255,255,255,.07);}
    .time-card b{display:block; font-family:"Playfair Display", serif; font-size: 54px; color:#fff; font-weight:500; line-height:1;}
    .time-card span{display:block; margin-top: 10px; letter-spacing:.22em; text-transform:uppercase; color: rgba(255,255,255,.86); font-size: 12px;}

    .card{
      background: rgba(244,242,236,.92);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 26px 18px;
    }

    #aileler{
      position: relative;
      margin-top: calc(-1 * (var(--heroExtra) + 30px));
      padding-top: calc(44px + var(--heroExtra));
      z-index: 40;
    }
    #aileler .container{ position:relative; }

    .families-card{ padding: 28px 22px; }
    .families-grid{
      display:flex !important;
      flex-wrap: nowrap !important;
      align-items: stretch;
      justify-content: space-between;
      gap: 14px;
      max-width: 820px;
      margin: 0 auto;
      text-align:left;
    }
    .family-divider{
      width: 1px;
      border-radius: 999px;
      background: linear-gradient(to bottom, transparent, rgba(39,49,38,.20), transparent);
      align-self: stretch;
      flex: 0 0 1px;
    }
    .family-col{
      flex: 1 1 0;
      min-width: 0;
      padding: 18px 14px;
      border-radius: 16px;
      background: linear-gradient(180deg, rgba(255,255,255,.60), rgba(255,255,255,.35));
      border: 1px solid rgba(39,49,38,.10);
      overflow:hidden;
    }

    .family-head{
      text-align:center;
      font-size: 24px;
      margin: 2px 0 14px;
      color: var(--text);
      letter-spacing:.04em;
      font-family:"Playfair Display", serif;

      white-space: nowrap;
      word-break: keep-all;
      overflow-wrap: normal;
      hyphens: none;

      overflow: hidden;
      text-overflow: ellipsis;
      line-height: 1.15;
    }
    .family-head::after{
      content:"";
      display:block;
      width: 86px;
      height: 1px;
      margin: 12px auto 0;
      background: linear-gradient(to right, transparent, rgba(39,49,38,.22), transparent);
    }
    .family-names{
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 12px;
      padding: 14px 10px;
      border-radius: 14px;
      background: rgba(255,255,255,.55);
      border: 1px solid rgba(39,49,38,.10);
      flex-wrap: wrap;
    }
    .name-chip{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 10px 14px;
      border-radius: 999px;
      font-family:"Playfair Display", serif;
      font-size: 18px;
      font-weight: 700;
      color: var(--text);
      background: rgba(244,242,236,.98);
      border: 1px solid rgba(39,49,38,.10);
      box-shadow: 0 10px 26px rgba(0,0,0,.06);
      white-space: nowrap;
      max-width: 100%;
    }
    .mini-divider{
      position: relative;
      width: 30px;
      height: 30px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      border-radius: 999px;
      border: 1px solid rgba(91,96,78,.30);
      background: rgba(91,96,78,.10);
      overflow:hidden;
      flex: 0 0 30px;
    }
    .mini-divider::before{
      content:"";
      position:absolute;
      inset:-40%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.30), transparent 55%);
      animation: shimmer 2.8s ease-in-out infinite;
      opacity:.75;
    }
    .spark{
      position: relative;
      font-size: 14px;
      color: rgba(39,49,38,.75);
      animation: breathe 2.4s ease-in-out infinite;
      transform-origin:center;
    }
    @keyframes breathe{
      0%,100%{ transform: scale(1) rotate(0deg); opacity:.75; }
      50%{ transform: scale(1.10) rotate(7deg); opacity:1; }
    }
    @keyframes shimmer{
      0%,100%{ transform: translate3d(-8px,6px,0); opacity:.45; }
      50%{ transform: translate3d(10px,-6px,0); opacity:.8; }
    }

    .big-icon{
      width: 76px; height: 76px; border-radius: 999px;
      background: rgba(91,96,78,.18);
      display:flex; align-items:center; justify-content:center;
      margin: 6px auto 16px;
      border: 1px solid rgba(91,96,78,.22);
    }
    .place{font-size: 38px; margin: 6px 0 8px; font-weight:500}
    .meta{display:flex; gap:12px; align-items:center; justify-content:center; color: var(--muted); margin-bottom: 14px; flex-wrap:wrap;}
    .meta .dot{opacity:.5}
    .map{border-radius: 16px; overflow:hidden; border: 1px solid var(--line); height: 220px;}
    .map iframe{width:100%; height:100%; border:0}

    form{display:grid; gap:12px; margin-top:16px; max-width:720px; margin-left:auto; margin-right:auto;}
    .row{display:grid; grid-template-columns: 1fr 1fr; gap:12px}
    input, textarea, select{
      width:100%; padding: 12px 12px; border-radius: 14px;
      border: 1px solid rgba(39,49,38,.20);
      background: rgba(255,255,255,.82); font: inherit; outline:none;
    }
    input:focus, textarea:focus, select:focus{
      box-shadow: 0 0 0 4px var(--focus);
      border-color: rgba(91,96,78,.55);
    }
    textarea{min-height:110px; resize:vertical}
    .form-actions{display:flex; gap:12px; flex-wrap:wrap; justify-content:center}
    .status{margin-top:8px; color: var(--muted); text-align:center}

    .btn{
      display:inline-flex; align-items:center; gap:10px;
      padding: 12px 14px; border-radius: 12px;
      border: 1px solid rgba(39,49,38,.25);
      background: transparent; cursor:pointer;
      font-weight: 600; text-decoration:none;
      transition: transform .12s ease, background .12s ease;
    }
    .btn:hover{background: rgba(91,96,78,.10); transform: translateY(-1px);}

    .rsvp-card{
      padding: 22px 18px;
      background:
        radial-gradient(600px 240px at 25% 0%, rgba(91,96,78,.10), transparent 60%),
        radial-gradient(520px 220px at 90% 30%, rgba(39,49,38,.08), transparent 62%),
        rgba(244,242,236,.92);
    }
    .rsvp-mini{
      font-family:"Playfair Display", serif;
      letter-spacing:.12em;
      text-transform:uppercase;
      font-size:12px;
      color: rgba(39,49,38,.62);
      margin: 0 0 10px;
      text-align:center;
    }
    .pill-grid{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:center;
      margin: 4px 0 10px;
    }
    .pill{
      position:relative;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid rgba(39,49,38,.16);
      background: rgba(255,255,255,.70);
      cursor:pointer;
      user-select:none;
      font-weight:700;
      box-shadow: 0 10px 22px rgba(0,0,0,.05);
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
    }
    .pill:hover{ transform: translateY(-1px); }
    .pill input{ position:absolute; inset:0; opacity:0; pointer-events:none; }
    .pill.is-on{ background: rgba(91,96,78,.14); border-color: rgba(91,96,78,.35); }

    .seg{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin: 10px 0 2px;
    }
    .seg label{
      position:relative;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(39,49,38,.16);
      background: rgba(255,255,255,.70);
      cursor:pointer;
      font-weight:800;
      transition: background .12s ease, border-color .12s ease, transform .12s ease;
    }
    .seg label:hover{ transform: translateY(-1px); }
    .seg input{ position:absolute; opacity:0; pointer-events:none; }
    .seg label.is-on{ background: rgba(39,49,38,.10); border-color: rgba(39,49,38,.26); }
    .hint{ text-align:center; color: rgba(39,49,38,.65); font-size:13px; margin: 6px 0 0; }

    footer{padding: 28px 0 40px; color: var(--muted); text-align:center}

    .music-fab{
      position: fixed;
      right: 14px;
      bottom: 14px;
      z-index: 9999;
      background: rgba(244,242,236,.95);
      backdrop-filter: blur(6px);
    }

    .admin-wrap{
      max-width: 1100px;
      margin: 0 auto;
      padding: 18px 16px 44px;
      display:none;
    }
    .admin-wrap.is-on{ display:block; }
    .invite-wrap.is-off{ display:none; }

    .admin-card{
      background: rgba(255,255,255,.70);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px;
    }
    .admin-title{ font-family:"Playfair Display", serif; font-weight:600; margin:0 0 6px; }
    .admin-sub{ color:var(--muted); margin:0 0 14px; line-height:1.5; }

    .admin-grid{ display:grid; grid-template-columns: 1.2fr .8fr; gap:12px; margin-top:12px;}
    .kpis{ display:grid; grid-template-columns: 1fr 1fr; gap:12px;}
    .kpi{
      border: 1px solid rgba(255,255,255,.22);
      border-radius: 16px;
      padding: 14px 14px;
      background: rgba(39,49,38,.06);
    }
    .kpi b{ display:block; font-size:34px; font-family:"Playfair Display", serif; }
    .kpi span{ color:rgba(39,49,38,.75); font-weight:700; letter-spacing:.08em; text-transform:uppercase; font-size:12px;}

    .filters{ display:grid; gap:10px;}
    .frow{ display:grid; grid-template-columns: 1.2fr .8fr .8fr; gap:10px; }
    .admin-btn{
      width:100%;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(39,49,38,.20);
      background: rgba(39,49,38,.10);
      font: inherit;
      cursor:pointer;
      font-weight:800;
    }
    .admin-btn:hover{ background: rgba(39,49,38,.14); }
    .tableWrap{ overflow:auto; border-radius: 16px; border:1px solid var(--line); background: rgba(255,255,255,.60); margin-top:12px;}
    table{ width:100%; border-collapse:collapse; min-width: 980px; }
    th, td{ padding: 10px 10px; border-bottom: 1px solid rgba(39,49,38,.10); text-align:left; vertical-align:top; }
    th{
      font-size:12px; letter-spacing:.08em; text-transform:uppercase;
      color: rgba(39,49,38,.70);
      background: rgba(255,255,255,.55);
      position:sticky; top:0;
    }
    .muted{ color:var(--muted); }
    .admin-footer{ display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap; margin-top:10px;}
    .small{ font-size:13px; color:var(--muted); }
    .admin-login{ max-width: 520px; margin: 16px auto 0; display:grid; gap:10px; }

    @media (min-width: 720px){
      .count-grid{grid-template-columns: repeat(4, minmax(0,1fr))}
      .hero h1{font-size: 76px}
      .place{font-size: 44px}
    }

    @media (max-width: 520px){
      .row{grid-template-columns:1fr}
      .hero h1{font-size:52px}
      .hero{ padding: 84px 0 calc(28px + var(--heroExtra)); min-height: 82vh; }

      :root{ --maskSoft: 34%; --heroExtra: 150px; }
      .music-fab{ right: 10px; bottom: 10px; }

      #aileler{
        margin-top: 0 !important;
        padding-top: 44px !important;
      }

      .families-grid{ flex-direction: column !important; gap: 12px; }
      .family-divider{
        width:100%;
        height:1px;
        background: linear-gradient(to right, transparent, rgba(39,49,38,.20), transparent);
        flex:0 0 1px;
      }
      .family-col{
        padding: 16px 12px;
        overflow: visible !important;
      }
      .families-card{ padding: 22px 14px; }

      .family-head{
        font-size: 22px !important;
        white-space: normal !important;
        overflow: visible !important;
        text-overflow: unset !important;
        display: block !important;
        line-height: 1.2 !important;
        -webkit-line-clamp: unset !important;
        -webkit-box-orient: unset !important;
      }

      .seg{ grid-template-columns: 1fr; }

      .admin-grid{ grid-template-columns: 1fr; }
      .frow{ grid-template-columns: 1fr; }
      table{ min-width: 860px; }
    }

    @media (prefers-reduced-motion: reduce){
      .stars-overlay, .sparkle-overlay,
      .falling-stars span, .shooting-stars i,
      .mini-divider::before, .spark,
      .video-stage .vA, .video-stage .vB{
        animation:none !important;
      }
      .video-stage .vA{opacity:1}
      .video-stage .vB{opacity:0}
    }
  </style>
</head>

<body>

  <!-- ===================== ADMIN (aynƒ± dosyada) ===================== -->
  <div class="admin-wrap" id="adminWrap">
    <div class="admin-card">
      <h1 class="admin-title">RSVP Admin</h1>
      <p class="admin-sub">
        Buraya giri≈ü yapƒ±nca form kayƒ±tlarƒ±nƒ± g√∂r√ºrs√ºn. Toplamlar <b>sadece ‚ÄúEvet‚Äù</b> diyenlerden hesaplanƒ±r.
      </p>

      <div id="adminLocked">
        <div class="admin-login admin-card" style="background:rgba(255,255,255,.55);">
          <div class="rsvp-mini">ADMIN Gƒ∞Rƒ∞≈û</div>
          <input id="adminUser" placeholder="Kullanƒ±cƒ±" value="admin" />
          <input id="adminPass" placeholder="≈ûifre" type="password" />
          <button class="admin-btn" id="adminLoginBtn">Giri≈ü Yap</button>
          <div class="small" id="adminLoginStatus"></div>
          <div class="small muted" style="text-align:center;">
            Admin‚Äôe girmek i√ßin link: <b>?admin=1</b>
          </div>
        </div>
      </div>

      <div id="adminContent" style="display:none;">
        <div class="admin-grid">
          <div class="admin-card">
            <div class="kpis">
              <div class="kpi"><span>üíç Ni≈üan Toplam</span><b id="kpiNisan">0</b></div>
              <div class="kpi"><span>üíí D√ºƒü√ºn Toplam</span><b id="kpiDugun">0</b></div>
            </div>
            <div class="small" style="margin-top:10px;">(Ki≈üi sayƒ±sƒ± = formdaki ‚ÄúKi≈üi sayƒ±sƒ±‚Äù alanƒ±)</div>
          </div>

          <div class="admin-card">
            <div class="filters">
              <div class="frow">
                <input id="q" placeholder="Ara (ad, telefon, not)" />
                <select id="event">
                  <option value="">T√ºm Etkinlikler</option>
                  <option value="Ni≈üan">Ni≈üan</option>
                  <option value="D√ºƒü√ºn">D√ºƒü√ºn</option>
                </select>
                <select id="attendanceF">
                  <option value="">T√ºm Katƒ±lƒ±mlar</option>
                  <option value="Evet">Evet</option>
                  <option value="Hayƒ±r">Hayƒ±r</option>
                </select>
              </div>

              <div class="frow" style="grid-template-columns: 1fr 1fr;">
                <button class="admin-btn" id="refresh">Yenile</button>
                <button class="admin-btn" id="openInvite">Davetiye Sayfasƒ±na D√∂n</button>
              </div>
            </div>
          </div>
        </div>

        <div class="tableWrap">
          <table>
            <thead>
              <tr>
                <th>Tarih</th><th>Etkinlik</th><th>Katƒ±lƒ±m</th><th>Ad</th><th>Telefon</th><th>Ki≈üi</th><th>Not</th><th>ƒ∞≈ülem</th>
              </tr>
            </thead>
            <tbody id="tbody"><tr><td colspan="8" class="muted">Y√ºkleniyor‚Ä¶</td></tr></tbody>
          </table>
        </div>

        <div class="admin-footer">
          <div class="small">Toplam kayƒ±t: <b id="totalCount">0</b></div>
          <div class="small muted" id="lastUpdate">‚Äî</div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== DAVETƒ∞YE ===================== -->
  <div class="invite-wrap" id="inviteWrap">
    <header class="hero" id="top">
      <div class="hero-slideshow" aria-hidden="true">
        <div class="video-stage" id="videoStage">
          <video class="vA" id="heroVA" autoplay muted playsinline preload="auto">
            <source src="WhatsApp%20Video%202026-01-11%20at%20115.35.36.mp4" type="video/mp4">
          </video>
          <video class="vB" id="heroVB" autoplay muted playsinline preload="auto">
            <source src="WhatsApp%20Video%202026-01-11%20at%20115.35.36.mp4" type="video/mp4">
          </video>
        </div>

        <div class="sky-mood"></div>
        <div class="vignette"></div>
        <div class="stars-overlay"></div>

        <div class="falling-stars" aria-hidden="true">
          <span></span><span></span><span></span><span></span><span></span><span></span>
          <span></span><span></span><span></span><span></span><span></span><span></span>
          <span></span><span></span><span></span><span></span><span></span><span></span>
        </div>

        <div class="shooting-stars" aria-hidden="true">
          <i></i><i></i><i></i>
        </div>

        <div class="sparkle-overlay"></div>
        <div class="hero-gradient"></div>
      </div>

      <div class="container hero-inner">
        <small class="serif">EVLENƒ∞YORUZ</small>
        <h1 class="script">G√ºl√ßin <span class="amp">&</span> Mustafa</h1>
        <div class="divider">‚ú¶</div>
      </div>
    </header>

    <!-- (Senin i√ßerik aynƒ±; a≈üaƒüƒ±sƒ± aynen bƒ±rakƒ±ldƒ±) -->

    <section id="aileler">
      <div class="container center">
        <h2 class="section-title script">Ailelerimiz</h2>

        <div class="card families-card" style="margin-top:22px;">
          <div class="families-grid">
            <div class="family-col">
              <div class="family-head">Arslanaydƒ±n</div>
              <div class="family-names">
                <span class="name-chip">G√ºlseren</span>
                <span class="mini-divider" aria-hidden="true"><span class="spark">‚ú¶</span></span>
                <span class="name-chip">Yusuf</span>
              </div>
            </div>

            <div class="family-divider" aria-hidden="true"></div>

            <div class="family-col">
              <div class="family-head">Hasan√ßebi</div>
              <div class="family-names">
                <span class="name-chip">√ñzlem</span>
                <span class="mini-divider" aria-hidden="true"><span class="spark">‚ú¶</span></span>
                <span class="name-chip">Erdal</span>
              </div>
            </div>
          </div>
        </div>

      </div>
    </section>

    <!-- Devamƒ± seninle aynƒ±... -->

    <footer><div class="container"></div></footer>

    <audio id="bgMusic" loop preload="auto">
      <source id="bgMusicSource" src="Carla Morrison - Disfruto (letra) [jwP1HRmDVII].mp3" type="audio/mpeg">
    </audio>
    <button id="musicToggle" class="btn music-fab" type="button">üîä M√ºzik A√ßƒ±k</button>
  </div>

  <!-- ===================== SCRIPT ===================== -->
  <script>
  document.addEventListener("DOMContentLoaded", () => {

    // ‚úÖ NEW API URL (senin verdiƒüin)
    const API_URL = "https://script.google.com/macros/s/AKfycbzVnZDXo8vKGvrsnAVSnLnHGSRn4bD4V8Cu-Q2Wni0GpfN7beMSwtW-Iu85_PGmxcbr/exec";
    const ADMIN_PASSWORD_HINT = "560055Dh.61";

    const params = new URLSearchParams(window.location.search);
    const isAdmin = params.get("admin") === "1";

    const adminWrap = document.getElementById("adminWrap");
    const inviteWrap = document.getElementById("inviteWrap");

    if (isAdmin) {
      adminWrap.classList.add("is-on");
      inviteWrap.classList.add("is-off");
    } else {
      adminWrap.classList.remove("is-on");
      inviteWrap.classList.remove("is-off");
    }

    const $ = (id)=>document.getElementById(id);
    let ADMIN_PASS = "";
    let ALL_ROWS = [];

    async function fetchJSON(url){
      const r = await fetch(url, { cache:"no-store" });
      return await r.json();
    }

    async function adminPost(payloadObj){
      const r = await fetch(API_URL, {
        method: "POST",
        headers: { "Content-Type": "text/plain;charset=utf-8" },
        body: JSON.stringify(payloadObj),
        cache: "no-store",
        keepalive: true
      });
      const js = await r.json();
      if(!js.ok) throw new Error(js.error || "ADMIN_POST_ERROR");
      return js;
    }

    function setAdminStatus(msg){
      const el = $("adminLoginStatus");
      if(el) el.textContent = msg;
    }

    async function loadSummary(){
      const js = await fetchJSON(
        API_URL + "?action=summary&onlyYes=1&adminPass=" + encodeURIComponent(ADMIN_PASS)
      );
      if(!js.ok) throw new Error(js.error || "SUMMARY_ERROR");
      $("kpiNisan").textContent = js.summary.nisan;
      $("kpiDugun").textContent = js.summary.dugun;
    }

    async function loadList(){
      const js = await fetchJSON(API_URL + "?action=list&adminPass=" + encodeURIComponent(ADMIN_PASS));
      if(!js.ok) throw new Error(js.error || "LIST_ERROR");
      ALL_ROWS = js.rows || [];
      $("totalCount").textContent = String(ALL_ROWS.length);
      $("lastUpdate").textContent = "G√ºncellendi: " + new Date().toLocaleString("tr-TR");
    }

    function renderAdminTable(){
      const q  = ($("q").value || "").trim().toLowerCase();
      const ev = $("event").value;
      const at = $("attendanceF").value;

      const filtered = ALL_ROWS.filter(r=>{
        if(ev && !String(r.events).includes(ev)) return false;
        if(at && String(r.attendance) !== at) return false;
        if(q){
          const hay = (r.name+" "+r.phone+" "+r.note+" "+r.events).toLowerCase();
          if(!hay.includes(q)) return false;
        }
        return true;
      });

      const tb = $("tbody");
      if(!filtered.length){
        tb.innerHTML = `<tr><td colspan="8" class="muted">Kayƒ±t yok.</td></tr>`;
        return;
      }

      tb.innerHTML = filtered.map(r=>{
        const dt = r.created_at ? new Date(r.created_at).toLocaleString("tr-TR") : "";
        const guests = Number(r.guests||0);
        const note = String(r.note||"").replaceAll("<","&lt;");

        // ‚úÖ FIX: butonlara row deƒüil id veriyoruz
        return `
          <tr>
            <td>${dt}</td>
            <td>${r.events || ""}</td>
            <td>${r.attendance || ""}</td>
            <td><b>${r.name || ""}</b></td>
            <td>${r.phone || ""}</td>
            <td>${isFinite(guests) ? guests : 0}</td>
            <td class="muted">${note}</td>
            <td style="min-width:160px;">
              <div style="display:flex; gap:8px;">
                <button class="admin-btn" data-act="edit" data-id="${r.id}">D√ºzenle</button>
                <button class="admin-btn" data-act="del"  data-id="${r.id}">Sil</button>
              </div>
            </td>
          </tr>
        `;
      }).join("");
    }

    async function refreshAdmin(){
      setAdminStatus("Y√ºkleniyor‚Ä¶");
      await loadSummary();
      await loadList();
      renderAdminTable();
      setAdminStatus("Hazƒ±r ‚úÖ");
    }

    if (isAdmin) {
      $("tbody").addEventListener("click", async (e) => {
        const btn = e.target.closest("button[data-act]");
        if(!btn) return;

        const act = btn.dataset.act;
        const id = String(btn.dataset.id || "").trim();
        if(!id) {
          setAdminStatus("Hata: ID gelmedi (liste verisi kontrol).");
          return;
        }

        const rec = ALL_ROWS.find(x => String(x.id) === id);

        if(act === "del"){
          if(!confirm("Bu kaydƒ± silmek istiyor musun?")) return;
          try{
            setAdminStatus("Siliniyor‚Ä¶");
            await adminPost({ action:"delete", adminPass: ADMIN_PASS, id });
            await refreshAdmin();
            setAdminStatus("Silindi ‚úÖ");
          }catch(err){
            setAdminStatus("Silme hatasƒ±: " + (err.message || err));
          }
          return;
        }

        if(act === "edit"){
          if(!rec){
            alert("Kayƒ±t bulunamadƒ±. Yenile deyip tekrar deneyin.");
            return;
          }

          const name = prompt("Ad Soyad:", rec.name || "");
          if(name === null) return;

          const phone = prompt("Telefon:", rec.phone || "");
          if(phone === null) return;

          const guestsStr = prompt("Ki≈üi sayƒ±sƒ±:", String(rec.guests ?? 0));
          if(guestsStr === null) return;

          const note = prompt("Not:", rec.note || "");
          if(note === null) return;

          const patch = {
            name: String(name).trim(),
            phone: String(phone).trim(),
            guests: Number(guestsStr || 0),
            note: String(note).trim()
          };

          try{
            setAdminStatus("G√ºncelleniyor‚Ä¶");
            await adminPost({ action:"update", adminPass: ADMIN_PASS, id, patch });
            await refreshAdmin();
            setAdminStatus("G√ºncellendi ‚úÖ");
          }catch(err){
            setAdminStatus("G√ºncelleme hatasƒ±: " + (err.message || err));
          }
        }
      });

      $("openInvite").addEventListener("click", ()=>{ window.location.href = window.location.pathname; });

      ["q","event","attendanceF"].forEach(id=>{
        const el = $(id);
        el.addEventListener("input", renderAdminTable);
        el.addEventListener("change", renderAdminTable);
      });

      $("refresh").addEventListener("click", async ()=>{
        try { await refreshAdmin(); }
        catch(e){ setAdminStatus("Hata: " + (e.message||e)); }
      });

      $("adminLoginBtn").addEventListener("click", async ()=>{
        const user = ($("adminUser").value||"").trim();
        const pass = ($("adminPass").value||"").trim();

        if(user !== "admin"){
          setAdminStatus("Kullanƒ±cƒ±: admin olmalƒ±.");
          return;
        }
        if(!pass){
          setAdminStatus("≈ûifre gir.");
          return;
        }

        ADMIN_PASS = pass;

        try{
          await refreshAdmin();
          $("adminLocked").style.display = "none";
          $("adminContent").style.display = "block";
        }catch(err){
          setAdminStatus("≈ûifre yanlƒ±≈ü veya eri≈üim yok. (Apps Script ADMIN_PASSWORD / Deploy ayarlarƒ±nƒ± kontrol et)");
          $("adminLocked").style.display = "block";
          $("adminContent").style.display = "none";
        }
      });

      $("adminPass").addEventListener("dblclick", ()=>{
        if(!$("adminPass").value) $("adminPass").value = ADMIN_PASSWORD_HINT;
      });

      return;
    }

    // (Invite JS'lerin devamƒ± senin mevcut kodunla aynƒ± kalabilir.
    // Admin √ßalƒ±≈ümasƒ± i√ßin gerekli d√ºzeltmeler burada bitti.)
  });
  </script>

</body>
</html>
